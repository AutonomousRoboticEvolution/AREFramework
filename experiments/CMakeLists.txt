if(ONLY_PHYSICAL)
    if(VREP_FOUND)
        add_definitions(-DVREP)
    elseif(COPPELIASIM_FOUND)
        add_definitions(-DCOPPELIASIM)
    endif()

    if(WITH_NN2)
       add_subdirectory(physical_update)
       add_subdirectory(physical_melai)
       add_subdirectory(visualization)
    endif()
    add_subdirectory(test_are_generate)
elseif(ONLY_SIMULATION)
    if(VREP_FOUND)
        add_definitions(-DVREP)
    elseif(COPPELIASIM_FOUND)
        add_definitions(-DCOPPELIASIM)
    endif()

    if(WITH_NN2)
        #add_subdirectory(neuroEvolution)
        add_subdirectory(nipes)
        #add_subdirectory(mnipes)
        #add_subdirectory(mnipes_multitarget)
      #add_subdirectory(bodyplantesting_nn2)
#        add_subdirectory(bodyplantesting_protomatrix)
#        add_subdirectory(matrix_evolution)
        add_subdirectory(mnipes_v2)
        #add_subdirectory(mnipes_v2_protomatrix)
        add_subdirectory(visualization)
        add_subdirectory(robustness_test)
        #add_subdirectory(nipes_multitarget)
        add_subdirectory(reevaluate_fixedmorphology)
    endif()
#    add_subdirectory(bodyplantesting)
else()

    if(VREP_FOUND)
        add_definitions(-DVREP)
    elseif(COPPELIASIM_FOUND)
        add_definitions(-DCOPPELIASIM)
    endif()

    if(WITH_NN2)
        add_subdirectory(physical_update)
        add_subdirectory(neuroEvolution)
        add_subdirectory(nipes)
       # add_subdirectory(mnipes)
       #add_subdirectory(bodyplantesting_nn2)
       # add_subdirectory(bodyplantesting_protomatrix)
        add_subdirectory(mnipes_v2)
       # add_subdirectory(mnipes_multitarget)
        #add_subdirectory(mnipes_v2_protomatrix)
        add_subdirectory(visualization)
        add_subdirectory(robustness_test)
        #add_subdirectory(nipes_multitarget)
        add_subdirectory(physical_melai)
        add_subdirectory(multitarget_test)
    endif()
    add_subdirectory(test_are_generate)
    #add_subdirectory(bodyplantesting)
    add_subdirectory(intrinsic_motivation)

endif()
install(DIRECTORY common DESTINATION include FILES_MATCHING PATTERN "*.hpp" PATTERN "*.h" )
